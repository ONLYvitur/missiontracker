html, body { font-family: 'Varela Round', Arial, sans-serif; }
body { min-height: 100vh; background: linear-gradient(180deg, #e3f0fc 0%, #ffffff 100%); }
.rtl { direction: rtl; text-align: right; }
.ltr { direction: ltr; text-align: left; }
.sticky-header { position: sticky; top: 0; z-index: 10; background: #e3f0fc; }
.mission-card { transition: box-shadow 0.2s, transform 0.2s; min-width: 260px;}
.mission-card:hover { box-shadow: 0 8px 28px 2px #b0c9e1b0; transform: translateY(-2px) scale(1.01);}
.input-search { font-size: 1.05em;}
.priority-high { color:#fff; background: #e53e3e; }
.priority-medium { color:#fff; background: #ecc94b; }
.priority-low { color:#fff; background: #38a169; }
.progress-bar { height: 0.7rem; border-radius: 8px;}
.loader {
  border: 4px solid #e3e3e3;
  border-radius: 50%;
  border-top: 4px solid #3182ce;
  width: 38px; height: 38px;
  animation: spin 1s linear infinite;
  margin: 2rem auto;
  display:block;
}
@keyframes spin { 0% { transform: rotate(0deg);} 100% { transform: rotate(360deg);} }
body.dark { background: #111827; color: #e5e7eb; }
body.dark .bg-white { background: #1f2937 !important; color: #e5e7eb !important; }
body.dark .bg-gray-50 { background: #111827 !important; }
body.dark .text-blue-800 { color: #60a5fa !important; }
body.dark .text-gray-500 { color: #a3a3a3 !important; }
body.dark .shadow { box-shadow: 0 2px 12px #0009 !important; }
body.dark input, body.dark select, body.dark textarea { background: #334155 !important; color: #e5e7eb !important; }
body.dark .status-badge.bg-gray-200 { background: #374151 !important;}
body.dark .status-badge.bg-green-200 { background: #166534 !important; color: #d1fae5 !important;}
body.dark .status-badge.bg-yellow-200 { background: #7c6f1c !important; color:#fef08a !important;}
body.dark .bg-blue-50 { background: #1e40af !important; color: #dbeafe !important;}
body.dark .bg-blue-100 { background: #2563eb !important; color: #dbeafe !important;}

#missions { grid-template-columns: 1fr; }
@media (min-width:640px) { #missions { grid-template-columns: repeat(2,1fr); } }
@media (min-width:1024px) { #missions { grid-template-columns: repeat(3,1fr); } }

@media (max-width: 640px) {
  .mission-card { padding: 1rem; margin: 0 0.25rem; }
  .sticky-header { padding-left: 0.5rem; padding-right: 0.5rem; }
  #missionModal > div {
    max-width: 98vw !important;
    min-width: 0;
    padding: 0.5rem !important;
  }
}
#missionModal > div {
  max-height: 98vh;
  overflow-y: auto;
}
input, select, textarea, button {
  min-height: 2.5rem;
  font-size: 1.1em;
}
#categoryTabs {
  overflow-x: auto;
  flex-wrap: nowrap;
}
#categoryTabs > button {
  white-space: nowrap;
}
@media (max-width: 480px) {
  h1 { font-size: 1.6rem; }
  .mission-card { font-size: 0.98rem; }
}

/* DEADLINE COLORS: Red (overdue), Yellow (close), Green (far) */
.deadline-past {
  color: #fff !important;
  background: #e53e3e !important;
  border-radius: 10px;
  padding: 0 0.7em;
  font-weight: bold;
  letter-spacing: 1px;
}
.deadline-soon, .deadline-today {
  color: #7c5700 !important;
  background: #ffe066 !important;
  border-radius: 10px;
  padding: 0 0.7em;
  font-weight: bold;
  letter-spacing: 1px;
  border: 1.5px solid #ffd700;
}
.deadline-future {
  color: #185a3d !important;
  background: #b5f5b5 !important;
  border-radius: 10px;
  padding: 0 0.7em;
  font-weight: 600;
  letter-spacing: 1px;
  border: 1.5px solid #38a169;
}
body.dark .deadline-future {
  color: #fff !important;
  background: #38a169 !important;
  border: 1.5px solid #185a3d;
}
body.dark .deadline-soon, body.dark .deadline-today {
  color: #7c5700 !important;
  background: #ffd700 !important;
  border: 1.5px solid #ffe066;
}
body.dark .deadline-past {
  background: #b91c1c !important;
  border: 1.5px solid #e53e3e;
}

/* Highlight selected category tab */
.active-cat, .cat-tab.active-cat {
  background: #2563eb !important;
  color: #fff !important;
  box-shadow: 0 2px 8px #2563eb22;
  border: 1.5px solid #1d4ed8;
}
body.dark .active-cat, body.dark .cat-tab.active-cat {
  background: #1e293b !important;
  color: #a5b4fc !important;
  border: 1.5px solid #6366f1;
}
